apply plugin: 'maven'

// Use 'wagon-git' to upload our artifact to the maven repository
configurations {
    deployerJar
}

repositories {
    jcenter()
    maven {
        url "https://raw.github.com/synergian/wagon-git/releases"
    }
}

dependencies {
    deployerJar "ar.com.synergian:wagon-git:0.2.5"
}


// generate JAR file for the library, if you also need the jar file, you can uncomment these.

//task androidJavadocs(type: Javadoc) {
//    failOnError false
//    source = android.sourceSets.main.java.sourceFiles
//}
//
//task androidSourcesJar(type: Jar) {
//    classifier = 'sources'
//    from android.sourceSets.main.java.sourceFiles
//}
//
//task androidJavadocsJar(type: Jar, dependsOn: androidJavadocs) {
//    classifier = 'javadoc'
//    from androidJavadocs.destinationDir
//}
//
//artifacts {
//    archives androidSourcesJar
//    archives androidJavadocsJar
//}

uploadArchives {
    repositories.mavenDeployer {
        configuration = configurations.deployerJar
        repository(url: 'git:releases://git@bitbucket.org:' + COMPANY + '/' + REPOSITORY_NAME + '.git') {
            authentication(userName: USERNAME, password: PASSWORD)
        }

        pom.project {
            groupId = ARTIFACT_PACKAGE
            version = ARTIFACT_VERSION
            artifactId = ARTIFACT_NAME
            packaging ARTIFACT_PACKAGING
        }
    }
}


